(function(t){function e(e){for(var r,s,l=e[0],i=e[1],u=e[2],f=0,v=[];f<l.length;f++)s=l[f],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&v.push(n[s][0]),n[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);c&&c(e);while(v.length)v.shift()();return a.push.apply(a,u||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],r=!0,l=1;l<o.length;l++){var i=o[l];0!==n[i]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=o[0]))}return t}var r={},n={app:0},a=[];function s(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=r,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(o,r,function(e){return t[e]}.bind(null,r));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=i;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"2c8a":function(t,e,o){},"3e3b":function(t,e,o){"use strict";var r=o("8970"),n=o.n(r);n.a},"452c":function(t,e,o){},4653:function(t,e,o){"use strict";var r=o("cb1f"),n=o.n(r);n.a},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var r=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("Panel"),o("div",{staticClass:"github-link"},[o("a",{attrs:{href:"https://github.com/shayaulman/elevator-simulation",target:"_blank"}},[o("svg",{staticClass:"github-link",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[o("path",{attrs:{d:"M11.135,1.665A9.733,9.733,0,0,0,8.06,20.632c.486.09.664-.211.664-.468,0-.231-.008-.843-.013-1.656C6,19.1,5.432,17.2,5.432,17.2a2.579,2.579,0,0,0-1.08-1.424c-.884-.6.066-.591.066-.591a2.043,2.043,0,0,1,1.491,1A2.072,2.072,0,0,0,8.741,17a2.082,2.082,0,0,1,.618-1.3c-2.161-.246-4.433-1.081-4.433-4.81a3.763,3.763,0,0,1,1-2.612,3.5,3.5,0,0,1,.1-2.575s.817-.262,2.676,1a9.239,9.239,0,0,1,4.872,0c1.858-1.259,2.674-1,2.674-1a3.491,3.491,0,0,1,.1,2.575,3.757,3.757,0,0,1,1,2.612c0,3.738-2.275,4.561-4.443,4.8a2.326,2.326,0,0,1,.66,1.8c0,1.3-.012,2.35-.012,2.67,0,.26.175.563.67.467A9.734,9.734,0,0,0,11.135,1.665Z",transform:"translate(-1.404 -1.665)"}})])])]),o("div",{staticClass:"house-container"},[o("div",{staticClass:"roof"}),o("div",{ref:"house",staticClass:"house"},[t._l(t.elevatorSystem.elevators,(function(e,r){return o("Elevator",{key:r,attrs:{index:r,buildingHeight:t.elevatorSystem.floorHeight*t.elevatorSystem.numOfFloors,floorHeight:t.elevatorSystem.floorHeight,floor:t.elevatorSystem.floorHeight*e.onFloor,control:e.onFloor,state:e.state}})})),o("ElevatorButtons")],2)])],1)},a=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"panel"},[o("p",{staticClass:"floor-info"},[t._v(t._s(t.elevatorSystem.numOfFloors-1))]),o("span",[t._v("Floors")]),o("button",{on:{click:function(e){return t.elevatorSystem.addFloor()}}},[t._v("+")]),o("button",{on:{click:function(e){return t.elevatorSystem.removeFloor()}}},[t._v("-")]),o("span",[t._v("Elevators")]),o("button",{on:{click:function(e){return t.elevatorSystem.addElevator()}}},[t._v("+")]),o("button",{on:{click:function(e){return t.elevatorSystem.removeElevator()}}},[t._v("-")]),o("span",[t._v("Floor")]),o("span",[t._v("Height")]),o("input",{attrs:{value:"40",min:"30",type:"number"},on:{input:function(e){return t.elevatorSystem.updateFloorHeight(e.target.value)}}})])},l=[],i={data:function(){return{elevatorSystem:this.$store.state.elevatorSystem}}},u=i,c=(o("3e3b"),o("2877")),f=Object(c["a"])(u,s,l,!1,null,"21f25c40",null),v=f.exports,h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("p",{staticClass:"elevator-number"},[t._v(t._s(t.index+1))]),o("div",{staticClass:"control",class:t.state},[o("strong",[t._v(t._s(t.control.toFixed()))])]),o("div",{ref:"con",staticClass:"elevator-con",style:t.shaftStyle},[o("div",{staticClass:"elevator",style:t.elevatorHeight},[o("div",{staticClass:"room",style:t.roomHeight},[o("input",{staticClass:"floor-input",attrs:{type:"number",min:"0",max:t.elevatorSystem.numOfFloors},on:{focus:function(e){return t.elevatorSystem.holdDoors(t.index)},focusout:function(e){return t.elevatorSystem.closeDoorsAndGo(t.index,e.target.value)},input:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.elevatorSystem.holdDoors(t.index)}}}),o("div",{staticClass:"left-door",class:["open"===t.state||"waiting"===t.state?"open-doors":""]}),o("div",{staticClass:"right-door",class:["open"===t.state||"waiting"===t.state?"open-doors":""]})])])])])},p=[],d=(o("99af"),o("a9e3"),{props:{index:Number,buildingHeight:Number,floorHeight:Number,floor:Number,state:String,control:Number},data:function(){return{elevatorSystem:this.$store.state.elevatorSystem}},computed:{shaftStyle:function(){return{height:"".concat(this.buildingHeight,"px"),background:"repeating-linear-gradient(\n          to bottom,\n          var(--color-2),\n          var(--color-2) ".concat(this.elevatorSystem.floorHeight,"px,\n          var(--color-2-op) ").concat(this.elevatorSystem.floorHeight,"px,\n          var(--color-2-op) ").concat(2*this.elevatorSystem.floorHeight,"px\n        )")}},elevatorHeight:function(){return{height:"".concat(this.buildingHeight,"px")}},roomHeight:function(){return{height:"".concat(this.elevatorSystem.floorHeight,"px"),bottom:"".concat(this.floor,"px")}}},methods:{hello:function(){console.log("hello")}}}),m=d,g=(o("4653"),Object(c["a"])(m,h,p,!1,null,"2e3c7856",null)),y=g.exports,b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"buttons-container"},t._l(t.elevatorSystem.numOfFloors,(function(e,r){return o("div",{key:r,staticClass:"buttons",style:{height:t.elevatorSystem.floorHeight+"px"}},[o("button",{on:{click:function(e){return t.elevatorSystem.callElevator(r)}}},[t._v("▲")]),o("button",{on:{click:function(e){return t.elevatorSystem.callElevator(r)}}},[t._v("▼")])])})),0)},S=[],F={data:function(){return{elevatorSystem:this.$store.state.elevatorSystem}}},_=F,x=(o("56d8"),Object(c["a"])(_,b,S,!1,null,"7e545567",null)),k=x.exports,O={data:function(){return{elevatorSystem:this.$store.state.elevatorSystem,houseWidth:""}},components:{Panel:v,Elevator:y,ElevatorButtons:k}},w=O,E=(o("94ee"),o("b0a0"),Object(c["a"])(w,n,a,!1,null,"281a8455",null)),H=E.exports,C=o("2f62"),j=(o("4de4"),o("45fc"),o("4e82"),o("b680"),o("9f12")),M=o("53fe"),T=function(){function t(e,o){Object(j["a"])(this,t),this.numOfFloors=e,this.numOfElevators=o,this.floorHeight=35,this.elevators=this.initElevators()}return Object(M["a"])(t,[{key:"callElevator",value:function(t){if(this.elevators.some((function(e){return e.target===t})))return!1;var e=this.elevators.filter((function(t){return"free"===t.state})),o=e.sort((function(e,o){return Math.abs(e.onFloor-t)===Math.abs(o.onFloor-t)?o.onFloor-e.onFloor:Math.abs(e.onFloor-t)-Math.abs(o.onFloor-t)}))[0];o.target=t,this.goToFloor(o,o.onFloor,t)}},{key:"goToFloor",value:function(t,e,o){var r=this;if(o>this.numOfFloors-1||o<0)return alert("Please enter a valid option"),!1;if(e>o?t.state="goingDown":e<o?t.state="goingUp":(t.target="",t.state="arrived",setTimeout((function(){return t.state="open"}),500)),t.onFloor!==o)var n=setInterval((function(){"goingUp"===t.state?t.onFloor+=.1:t.onFloor-=.1,+t.onFloor.toFixed(6)===o&&(t.onFloor=+t.onFloor.toFixed(),clearInterval(n),t.state="arrived",setTimeout((function(){return t.state="open"}),500),setTimeout((function(){return t.state="free"}),3e3))}),100);else setTimeout((function(){return r.updateElevatorState(t)}),5e3)}},{key:"initElevators",value:function(){for(var t=[],e=0;e<this.numOfElevators;e++)t[e]={num:e,onFloor:Math.floor(Math.random()*this.numOfFloors),target:"",state:"free"};return t}},{key:"updateElevatorState",value:function(t){"waiting"!==t.state&&(t.state="free")}},{key:"holdDoors",value:function(t){this.elevators[t].state="waiting"}},{key:"closeDoorsAndGo",value:function(t,e){var o=this;this.elevators[t].state="free",setTimeout((function(){o.goToFloor(o.elevators[t],o.elevators[t].onFloor,+e)}),800)}},{key:"addElevator",value:function(){this.elevators.push({num:this.elevators.length,onFloor:Math.floor(Math.random()*this.numOfFloors),target:"",state:"free"})}},{key:"removeElevator",value:function(){this.elevators.pop()}},{key:"addFloor",value:function(){this.numOfFloors++}},{key:"removeFloor",value:function(){this.numOfFloors--}},{key:"updateFloorHeight",value:function(t){this.floorHeight=t}}]),t}();r["a"].use(C["a"]);var P=new C["a"].Store({state:{elevatorSystem:new T(15,4)},mutations:{}});o("e008");r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(H)},store:P}).$mount("#app")},"56d8":function(t,e,o){"use strict";var r=o("977a"),n=o.n(r);n.a},8970:function(t,e,o){},"94ee":function(t,e,o){"use strict";var r=o("2c8a"),n=o.n(r);n.a},"977a":function(t,e,o){},b0a0:function(t,e,o){"use strict";var r=o("452c"),n=o.n(r);n.a},cb1f:function(t,e,o){},e008:function(t,e,o){}});
//# sourceMappingURL=app.788a4b25.js.map